<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/template.xhtml">
	<ui:define name="content">
		<p:dataTable var="member" value="#{members}" selectionMode="single"
			selection="#{memberListProducer.currentMember}" rowKey="#{member.id}"
			editable="true">
			<f:facet name="header">
				<h:outputText value="用户" />
			</f:facet>
			<p:ajax event="rowSelect"
				listener="#{memberListProducer.onRowSelect}" update="currentGroup" />
			<p:column headerText="姓" style="width:48px">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{member.firstName}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText value="#{member.firstName}" style="width:100%"
							label="firstName" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="名字" style="width:72px">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{member.lastName}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText value="#{member.lastName}" style="width:100%"
							label="lastName" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="昵称" style="width:72px">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{member.nickName}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText value="#{member.nickName}" style="width:100%"
							label="lastName" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="登录名" style="width:72px">
				<h:outputText value="#{member.loginName}" />
			</p:column>
			<p:column headerText="email" style="width:108px">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{member.email}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText value="#{member.email}" style="width:100%"
							label="lastName" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="电话" style="width:108px">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{member.phoneNumber}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText value="#{member.phoneNumber}" style="width:100%"
							label="lastName" />
					</f:facet>
				</p:cellEditor>
			</p:column>
			<p:column headerText="可用" style="width:48px">
				<h:outputText value="#{member.enabled}" />
			</p:column>
			<p:column headerText="创建日期" style="width:108px">
				<h:outputText value="#{member.createdDate}" />
			</p:column>
			<p:column headerText="截止日期" style="width:108px">
				<h:outputText value="#{member.expirationDate}" />
			</p:column>
			<p:column style="width:24px">
				<p:rowEditor />
			</p:column>
		</p:dataTable>
		<p:dataTable id="currentGroup" var="group" value="#{currentGroups}">
			<f:facet name="header">
				<h:outputText value="所属组" />
			</f:facet>
			<p:column headerText="组名">
				<h:outputText value="#{group.name}" />
			</p:column>
			<p:column headerText="所属组">
				<h:outputText value="#{group.parentGroup}" />
			</p:column>
			<p:column headerText="PATH">
				<h:outputText value="#{group.path}" />
			</p:column>
			<p:column headerText="创建日期">
				<h:outputText value="#{group.createdDate}" />
			</p:column>
			<p:column headerText="截止日期">
				<h:outputText value="#{group.expirationDate}" />
			</p:column>
			<p:column headerText="可用">
				<h:outputText value="#{group.enabled}" />
			</p:column>
		</p:dataTable>
	</ui:define>
</ui:composition>
